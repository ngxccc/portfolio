---
title: "Arch Linux: Setup SSH Key cho Git Auth & Signing (Verified Badge)"
description: "HÆ°á»›ng dáº«n 'The Arch Way': Táº¡o SSH Key Ed25519 vÃ  cáº¥u hÃ¬nh Git Global Ä‘á»ƒ Auth & Sign commit báº±ng dÃ²ng lá»‡nh."
date: "2026-01-28"
tags: ["arch-linux", "git", "ssh", "security", "cli"]
isPublished: true
series: "Arch Linux Rice"
seriesOrders: 4
---

## 1. Táº¡i sao dÃ¹ng SSH trÃªn Arch? ðŸ¹

DÃ¢n chÆ¡i Arch (I use Arch btw) thÆ°á»ng thÃ­ch sá»± tá»‘i giáº£n.
Thay vÃ¬ cÃ i GPG suite náº·ng ná» chá»‰ Ä‘á»ƒ láº¥y cÃ¡i tick xanh **"Verified"** trÃªn GitHub, chÃºng ta sáº½ táº­n dá»¥ng chÃ­nh **SSH Key** cÃ³ sáºµn.

- **Hiá»‡u nÄƒng:** SSH (Ed25519) kÃ½ commit nhanh hÆ¡n GPG.
- **Tiá»‡n lá»£i:** Má»™t key duy nháº¥t cho cáº£ Login (Push/Pull) vÃ  Signing.

## 2. Táº¡o SSH Key (Chuáº©n Ed25519) ðŸ”‘

Má»Ÿ Terminal (Alacritty, Kitty, hay WezTerm tÃ¹y báº¡n) vÃ  cháº¡y:

```bash
# Thay email báº±ng email GitHub cá»§a báº¡n
ssh-keygen -t ed25519 -C "your-email@gmail.com"
```

- **Location:** Nháº¥n **Enter** Ä‘á»ƒ lÆ°u vÃ o máº·c Ä‘á»‹nh `~/.ssh/id_ed25519`.
- **Passphrase:**
  - Nháº­p pass náº¿u báº¡n muá»‘n báº£o máº­t (Paranoid mode).
  - Enter 2 láº§n Ä‘á»ƒ bá» qua (Convenience mode).

## 3. Cáº¥u hÃ¬nh SSH Agent (Auto-start) ðŸ¤–

TrÃªn Arch, `ssh-agent` khÃ´ng pháº£i lÃºc nÃ o cÅ©ng tá»± cháº¡y. Äá»ƒ trÃ¡nh viá»‡c gÃµ pass liÃªn tá»¥c, hÃ£y thÃªm Ä‘oáº¡n nÃ y vÃ o file config cá»§a shell (thÆ°á»ng lÃ  `~/.zshrc` hoáº·c `~/.bashrc`).

**BÆ°á»›c 1:** Má»Ÿ file config shell

```bash
nano ~/.zshrc  # Hoáº·c vim ~/.zshrc
```

**BÆ°á»›c 2:** ThÃªm Ä‘oáº¡n script sau vÃ o cuá»‘i file:

```bash
# Start SSH Agent if not running
if [ -z "$SSH_AUTH_SOCK" ]; then
   eval "$(ssh-agent -s)" > /dev/null
fi
```

**BÆ°á»›c 3:** Source láº¡i file hoáº·c má»Ÿ terminal má»›i, sau Ä‘Ã³ add key:

```bash
ssh-add ~/.ssh/id_ed25519
```

## 4. Upload Public Key lÃªn GitHub â˜ï¸

Copy public key vÃ o clipboard (cáº§n cÃ i `xclip` hoáº·c `wl-clipboard` náº¿u chÆ°a cÃ³, hoáº·c chá»‰ cáº§n `cat` ra rá»“i copy tay):

```bash
cat ~/.ssh/id_ed25519.pub
# Copy chuá»—i: ssh-ed25519 AAAAC3...
```

VÃ o [GitHub Settings > SSH and GPG keys](https://github.com/settings/keys):

### A. Add cho Authentication

1. **New SSH key** -> Title: `Arch Linux - Auth`.

2. Key type: **Authentication Key**.

3. Paste key -> Save.

### B. Add cho Signing (Quan trá»ng!) âš ï¸

1. **New SSH key** (Láº§n 2) -> Title: `Arch Linux - Signing`.

2. Key type: Chá»n **Signing Key**.

3. Paste key y há»‡t lÃºc nÃ£y -> Save.

## 5. Cáº¥u hÃ¬nh Git (CLI Style) âš™ï¸

Thay vÃ¬ sá»­a file config thá»§ cÃ´ng, hÃ£y dÃ¹ng lá»‡nh `git` cho chuáº©n bÃ i:

```bash
# 1. Äá»‹nh danh cÆ¡ báº£n
git config --global user.name "Your Name"
git config --global user.email "your-email@gmail.com"

# 2. Báº­t cháº¿ Ä‘á»™ Sign báº±ng SSH
git config --global gpg.format ssh

# 3. Trá» Ä‘Æ°á»ng dáº«n tá»›i Public Key (LÆ°u Ã½ lÃ  file .pub nhÃ©)
git config --global user.signingkey ~/.ssh/id_ed25519.pub

# 4. Tá»± Ä‘á»™ng Sign táº¥t cáº£ commit
git config --global commit.gpgsign true
```

> **Check láº¡i file config:** Báº¡n cÃ³ thá»ƒ xem káº¿t quáº£ báº±ng lá»‡nh `cat ~/.gitconfig`. NÃ³ sáº½ trÃ´ng nhÆ° tháº¿ nÃ y:

```ini
[user]
    name = Raizo
    email = raizo@archlinux.org
    signingkey = /home/raizo/.ssh/id_ed25519.pub
[gpg]
    format = ssh
[commit]
    gpgsign = true
```

## 6. Verification (Test nhÃ¢n pháº©m) âœ…

### Test káº¿t ná»‘i tá»›i GitHub

```bash
ssh -T git@github.com
# Output: Hi username! You've successfully authenticated...
```

### Test Commit Verified

Táº¡o má»™t commit rá»—ng Ä‘á»ƒ test:

```bash
git commit --allow-empty -m "test: arch linux verified signing"
```

Náº¿u khÃ´ng cÃ³ lá»—i gÃ¬ vÄƒng ra -> **Success**.

### SÆ¡ Ä‘á»“ luá»“ng hoáº¡t Ä‘á»™ng

```mermaid
sequenceDiagram
    participant Arch as Arch Linux (Terminal)
    participant Agent as SSH Agent
    participant GH as GitHub

    Note over Arch, GH: Git Commit Flow
    Arch->>Arch: git commit
    Arch->>Agent: "ÃŠ, kÃ½ dÃ¹m tao cÃ¡i hash nÃ y"
    Agent-->>Arch: Tráº£ vá» chá»¯ kÃ½ sá»‘ (Signature)
    Arch->>Arch: ÄÃ³ng gÃ³i Commit + Signature

    Note over Arch, GH: Git Push Flow
    Arch->>GH: git push (Auth báº±ng Private Key)
    GH->>GH: Verify Signature báº±ng Public Key (Signing)
    GH-->>Arch: Hiá»ƒn thá»‹ badge "Verified" âœ…
```
